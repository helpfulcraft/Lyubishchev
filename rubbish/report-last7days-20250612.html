<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>周期性时间使用报告</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
        }
        .card {
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            padding: 24px;
            margin-bottom: 24px;
        }
        h1, h2 {
            text-align: center;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 16px;
            margin-top: 0;
            margin-bottom: 24px;
            color: #343a40;
        }
        .report-meta {
            text-align: center;
            margin-bottom: 24px;
            color: #6c757d;
        }
        .summary-card {
            text-align: center;
        }
        .summary-card .total-time {
            font-size: 3em;
            font-weight: 700;
            color: #007bff;
        }
        .category-list {
            list-style: none;
            padding: 0;
        }
        .category-item {
            border: 1px solid #e9ecef;
            border-radius: 6px;
            margin-bottom: 16px;
            overflow: hidden;
        }
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background-color: #f8f9fa;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .category-header:hover {
            background-color: #e9ecef;
        }
        .category-name {
            font-size: 1.2em;
            font-weight: 600;
        }
        .category-time {
            font-size: 1.2em;
            font-weight: 600;
            color: #495057;
        }
        .toggle-icon {
            font-weight: bold;
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }
        .details-panel {
            padding: 16px;
            border-top: 1px solid #e9ecef;
            background-color: #fff;
            display: none; /* Initially hidden */
        }
        .item-list {
            list-style: none;
            padding-left: 20px;
        }
        .item-list > li {
            margin-bottom: 12px;
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            color: #343a40;
        }
        .task-list {
            list-style-type: square;
            padding-left: 20px;
            color: #6c757d;
        }
        .task-list li {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
        }
        /* For the chart */
        .chart-container {
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>周期性时间使用报告</h1>
            <div class="report-meta">
                <span>报告周期: 2025-06-12 to 2025-06-18</span>
            </div>
            <div class="summary-card">
                <h2>总计用时</h2>
                <div class="total-time">43h 59m</div>
            </div>
        </div>

        <div class="card">
            <h2>分类总览</h2>
            <div id="categoryChart" class="chart-container"></div>
        </div>

        <div class="card">
            <h2>明细</h2>
            <ul class="category-list">
                
                <li class="category-item">
                    <div class="category-header" data-target="details-1">
                        <span class="category-name">娱乐</span>
                        <span class="category-time">23h 15m</span>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="details-panel" id="details-1">
                        <ul class="item-list">
                            
                            <li>
                                <div class="item-header">
                                    <span>游戏</span>
                                    <span>14h 34m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>er</span>
                                        <span>12h 51m</span>
                                    </li>
                                    
                                    <li>
                                        <span>er更新情报</span>
                                        <span>28m</span>
                                    </li>
                                    
                                    <li>
                                        <span>卢岛食堂</span>
                                        <span>1h 15m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li>
                                <div class="item-header">
                                    <span>小说</span>
                                    <span>8h 41m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>南朝</span>
                                        <span>3h 5m</span>
                                    </li>
                                    
                                    <li>
                                        <span>惊涛落日</span>
                                        <span>1h 7m</span>
                                    </li>
                                    
                                    <li>
                                        <span>接手地府</span>
                                        <span>32m</span>
                                    </li>
                                    
                                    <li>
                                        <span>终极火力</span>
                                        <span>3h 57m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                    </div>
                </li>
                
                <li class="category-item">
                    <div class="category-header" data-target="details-2">
                        <span class="category-name">第二类</span>
                        <span class="category-time">12h 45m</span>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="details-panel" id="details-2">
                        <ul class="item-list">
                            
                            <li>
                                <div class="item-header">
                                    <span>折腾</span>
                                    <span>8h 43m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>notion按钮</span>
                                        <span>5m</span>
                                    </li>
                                    
                                    <li>
                                        <span>readset上位</span>
                                        <span>13m</span>
                                    </li>
                                    
                                    <li>
                                        <span>zsxq</span>
                                        <span>8h 25m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li>
                                <div class="item-header">
                                    <span>锻炼</span>
                                    <span>2h 49m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>节奏光剑</span>
                                        <span>2h 49m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li>
                                <div class="item-header">
                                    <span>博物</span>
                                    <span>58m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>33号远征队</span>
                                        <span>30m</span>
                                    </li>
                                    
                                    <li>
                                        <span>badapple</span>
                                        <span>28m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li>
                                <div class="item-header">
                                    <span>冲浪</span>
                                    <span>15m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>telegram与discord自动化</span>
                                        <span>7m</span>
                                    </li>
                                    
                                    <li>
                                        <span>vrchat对标竞品</span>
                                        <span>3m</span>
                                    </li>
                                    
                                    <li>
                                        <span>小黑盒</span>
                                        <span>5m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                    </div>
                </li>
                
                <li class="category-item">
                    <div class="category-header" data-target="details-3">
                        <span class="category-name">杂项</span>
                        <span class="category-time">7h 59m</span>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="details-panel" id="details-3">
                        <ul class="item-list">
                            
                            <li>
                                <div class="item-header">
                                    <span>工程</span>
                                    <span>4h 4m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>作业</span>
                                        <span>29m</span>
                                    </li>
                                    
                                    <li>
                                        <span>儿童大世界</span>
                                        <span>34m</span>
                                    </li>
                                    
                                    <li>
                                        <span>区块链参赛</span>
                                        <span>39m</span>
                                    </li>
                                    
                                    <li>
                                        <span>琐事</span>
                                        <span>38m</span>
                                    </li>
                                    
                                    <li>
                                        <span>豆哥coze</span>
                                        <span>57m</span>
                                    </li>
                                    
                                    <li>
                                        <span>零食大作战</span>
                                        <span>47m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li>
                                <div class="item-header">
                                    <span>日常</span>
                                    <span>3h 55m</span>
                                </div>
                                <ul class="task-list">
                                    
                                    <li>
                                        <span>洗衣服</span>
                                        <span>29m</span>
                                    </li>
                                    
                                    <li>
                                        <span>涩涩</span>
                                        <span>1h 4m</span>
                                    </li>
                                    
                                    <li>
                                        <span>琐事</span>
                                        <span>1h 52m</span>
                                    </li>
                                    
                                    <li>
                                        <span>睡觉</span>
                                        <span>30m</span>
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                    </div>
                </li>
                
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Drill-down logic
            const headers = document.querySelectorAll('.category-header');
            headers.forEach(header => {
                header.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const panel = document.getElementById(targetId);
                    const icon = this.querySelector('.toggle-icon');

                    if (panel.style.display === 'block') {
                        panel.style.display = 'none';
                        icon.textContent = '+';
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        panel.style.display = 'block';
                        icon.textContent = '-';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            // ECharts logic
            const chartDom = document.getElementById('categoryChart');
            const myChart = echarts.init(chartDom);
            
            const chartData = [{"item_list": [{"name": "\u6e38\u620f", "tasks": [{"duration_str": "12h 51m", "name": "er"}, {"duration_str": "28m", "name": "er\u66f4\u65b0\u60c5\u62a5"}, {"duration_str": "1h 15m", "name": "\u5362\u5c9b\u98df\u5802"}], "total_duration": 874, "total_duration_str": "14h 34m"}, {"name": "\u5c0f\u8bf4", "tasks": [{"duration_str": "3h 5m", "name": "\u5357\u671d"}, {"duration_str": "1h 7m", "name": "\u60ca\u6d9b\u843d\u65e5"}, {"duration_str": "32m", "name": "\u63a5\u624b\u5730\u5e9c"}, {"duration_str": "3h 57m", "name": "\u7ec8\u6781\u706b\u529b"}], "total_duration": 521, "total_duration_str": "8h 41m"}], "name": "\u5a31\u4e50", "total_duration": 1395, "total_duration_str": "23h 15m"}, {"item_list": [{"name": "\u6298\u817e", "tasks": [{"duration_str": "5m", "name": "notion\u6309\u94ae"}, {"duration_str": "13m", "name": "readset\u4e0a\u4f4d"}, {"duration_str": "8h 25m", "name": "zsxq"}], "total_duration": 523, "total_duration_str": "8h 43m"}, {"name": "\u953b\u70bc", "tasks": [{"duration_str": "2h 49m", "name": "\u8282\u594f\u5149\u5251"}], "total_duration": 169, "total_duration_str": "2h 49m"}, {"name": "\u535a\u7269", "tasks": [{"duration_str": "30m", "name": "33\u53f7\u8fdc\u5f81\u961f"}, {"duration_str": "28m", "name": "badapple"}], "total_duration": 58, "total_duration_str": "58m"}, {"name": "\u51b2\u6d6a", "tasks": [{"duration_str": "7m", "name": "telegram\u4e0ediscord\u81ea\u52a8\u5316"}, {"duration_str": "3m", "name": "vrchat\u5bf9\u6807\u7ade\u54c1"}, {"duration_str": "5m", "name": "\u5c0f\u9ed1\u76d2"}], "total_duration": 15, "total_duration_str": "15m"}], "name": "\u7b2c\u4e8c\u7c7b", "total_duration": 765, "total_duration_str": "12h 45m"}, {"item_list": [{"name": "\u5de5\u7a0b", "tasks": [{"duration_str": "29m", "name": "\u4f5c\u4e1a"}, {"duration_str": "34m", "name": "\u513f\u7ae5\u5927\u4e16\u754c"}, {"duration_str": "39m", "name": "\u533a\u5757\u94fe\u53c2\u8d5b"}, {"duration_str": "38m", "name": "\u7410\u4e8b"}, {"duration_str": "57m", "name": "\u8c46\u54e5coze"}, {"duration_str": "47m", "name": "\u96f6\u98df\u5927\u4f5c\u6218"}], "total_duration": 244, "total_duration_str": "4h 4m"}, {"name": "\u65e5\u5e38", "tasks": [{"duration_str": "29m", "name": "\u6d17\u8863\u670d"}, {"duration_str": "1h 4m", "name": "\u6da9\u6da9"}, {"duration_str": "1h 52m", "name": "\u7410\u4e8b"}, {"duration_str": "30m", "name": "\u7761\u89c9"}], "total_duration": 235, "total_duration_str": "3h 55m"}], "name": "\u6742\u9879", "total_duration": 479, "total_duration_str": "7h 59m"}];
            
            const option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'right',
                    data: chartData.map(c => c.name)
                },
                series: [
                    {
                        name: '时间占比',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: '20',
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: chartData.map(c => ({
                            name: c.name,
                            value: c.total_duration // ECharts needs numerical value
                        }))
                    }
                ]
            };
            
            myChart.setOption(option);
            window.addEventListener('resize', () => myChart.resize());
        });
    </script>
</body>
</html> 